<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             6843f33324655             |
    |_______________________________________|
*/
 namespace Pmpr\Module\ContentManagement\EditorialComment; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconInterface; use Pmpr\Module\ContentManagement\Container; use Pmpr\Module\ContentManagement\ContentManagement; use Pmpr\Module\ContentManagement\EditorialComment\Model\Comment; use Pmpr\Module\ContentManagement\EditorialComment\Model\Quote; class Ajax extends Container { const PREFIX = ContentManagement::PREFIX . 'editorial_comment_'; const mcommuqoiyikysca = self::PREFIX . 'get_comments'; const ckukccowaaowqqaq = self::PREFIX . 'submit_comment'; const gemuokyccekygsqk = self::PREFIX . 'delete_comment'; public function wigskegsqequoeks() { $this->koaegcswmcqsiykq(self::mcommuqoiyikysca, [$this, 'waoeigwigksoikgu'])->koaegcswmcqsiykq(self::ckukccowaaowqqaq, [$this, 'eueokykqmyqcgwyk'])->koaegcswmcqsiykq(self::gemuokyccekygsqk, [$this, 'egeuguqqiegcokiw']); } public function waoeigwigksoikgu() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $keccaugmemegoimu = $this->omsuwyooskoyqssq(); $occymigcemkqucuw = false; if (!is_wp_error($keccaugmemegoimu)) { $gcqseksiskwueksc = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kqigmeickowqiiyy, ''); $ycoeoaakqyskgykq = $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(); if ($gcqseksiskwueksc && $ycoeoaakqyskgykq) { $sogksuscggsicmac = Comment::symcgieuakksimmu()->yqgiioyiwomwoaaw($gcqseksiskwueksc, $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::imywcsggckkcywgk, 1)); $oammesyieqmwuwyi = $sogksuscggsicmac[Constants::qwumqqyuasyskkkc] ?? []; if ($oammesyieqmwuwyi) { foreach ($oammesyieqmwuwyi as $momcykaoccoymeig => $igqsaukqcqscimok) { $sogksuscggsicmac[Constants::qwumqqyuasyskkkc][$momcykaoccoymeig] = $this->iuygowkemiiwqmiw('comment', ['current_user_id' => $ycoeoaakqyskgykq, Constants::COMMENT => $igqsaukqcqscimok, 'comment_datetime_format' => $this->caokeucsksukesyo()->eiwcuqigayigimak()->yoaaussmackoisuw()]); } } $keccaugmemegoimu = $sogksuscggsicmac; $occymigcemkqucuw = true; } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu, $occymigcemkqucuw); } public function eueokykqmyqcgwyk() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $keccaugmemegoimu = $this->omsuwyooskoyqssq(); $occymigcemkqucuw = false; if (!is_wp_error($keccaugmemegoimu)) { $cmwygeyygwqaemaq = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::TEXT, ''); $gcqseksiskwueksc = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kqigmeickowqiiyy, ''); $ycoeoaakqyskgykq = $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(); if ($cmwygeyygwqaemaq && $gcqseksiskwueksc && $ycoeoaakqyskgykq) { $oswgusmmccauqika = $eiicaiwgqkgsekce->yyqgamuwwakgciey('quote', []); if (!empty($oswgusmmccauqika) && !isset($oswgusmmccauqika[Constants::TEXT], $oswgusmmccauqika[Quote::wwuiqqqssswgmyqc], $oswgusmmccauqika[Quote::yscumwokauuisuuc])) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('You are try to submit a comment with a quote, but quote data not valid.', PR__MDL__CONTENT_MANAGEMENT)); } else { $wgkiaqycwqmisaow = Comment::symcgieuakksimmu(); $icwicymcioeyeyek = []; $qcwmmkiuqycwkkec = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::gouqcwikiiygyasc, 0); if ($qcwmmkiuqycwkkec) { if (!$wgkiaqycwqmisaow->icgawumskyemqymy($qcwmmkiuqycwkkec)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, you don’t have the required permissions to change this comment.', PR__MDL__CONTENT_MANAGEMENT)); } else { if (!$wgkiaqycwqmisaow->swiomaeikukkggwy($qcwmmkiuqycwkkec)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, this comment not editable anymore.', PR__MDL__CONTENT_MANAGEMENT)); } else { $icwicymcioeyeyek[$wgkiaqycwqmisaow->kumuygiiqswoyasy()] = $qcwmmkiuqycwkkec; $icwicymcioeyeyek[Constants::TEXT] = $cmwygeyygwqaemaq; } } } else { $icwicymcioeyeyek = [Constants::yauicucwkgqyygas => $ycoeoaakqyskgykq, Constants::kqigmeickowqiiyy => $gcqseksiskwueksc, Constants::TEXT => $cmwygeyygwqaemaq]; $ksgkmemywkckcsaq = $eiicaiwgqkgsekce->yyqgamuwwakgciey('reply_id', 0); if ($ksgkmemywkckcsaq) { $icwicymcioeyeyek[$wgkiaqycwqmisaow::omwgmyakyegmasgm] = $ksgkmemywkckcsaq; } } if ($icwicymcioeyeyek && !is_wp_error($keccaugmemegoimu)) { $sogksuscggsicmac = $wgkiaqycwqmisaow->gssiscqyqsacmeca()->gsegsiocqmsoayii($icwicymcioeyeyek); if (!is_wp_error($sogksuscggsicmac)) { $comment = $sogksuscggsicmac[Constants::iikosyqiawkweouo]; if ($oswgusmmccauqika) { $oswgusmmccauqika[Constants::wwcyusosayomgoia] = $sogksuscggsicmac[Constants::gouqcwikiiygyasc]; $sogksuscggsicmac = Quote::symcgieuakksimmu()->gssiscqyqsacmeca()->gsegsiocqmsoayii($oswgusmmccauqika); if (is_wp_error($sogksuscggsicmac)) { $keccaugmemegoimu = $sogksuscggsicmac; } } if (!is_wp_error($keccaugmemegoimu)) { $occymigcemkqucuw = true; $keccaugmemegoimu = $this->iuygowkemiiwqmiw('comment', [Constants::COMMENT => $wgkiaqycwqmisaow->ausygmeecgeqkise($comment), 'quote_icon' => $this->uwkmaywceaaaigwo()->ogciwyoqgciosgcw()->gqesusmmigggsqai() ? IconInterface::yqaouicemawuocgm : IconInterface::aayckgukgaaqcawm, 'current_user_id' => $ycoeoaakqyskgykq, 'comment_datetime_format' => $this->caokeucsksukesyo()->eiwcuqigayigimak()->yoaaussmackoisuw()]); } } else { $keccaugmemegoimu = $sogksuscggsicmac; } } } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu, $occymigcemkqucuw); } public function egeuguqqiegcokiw() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $keccaugmemegoimu = $this->omsuwyooskoyqssq(); $occymigcemkqucuw = false; if (!is_wp_error($keccaugmemegoimu)) { $gcqseksiskwueksc = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kqigmeickowqiiyy, ''); $qcwmmkiuqycwkkec = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::wwcyusosayomgoia, ''); if ($qcwmmkiuqycwkkec && $gcqseksiskwueksc) { $wgkiaqycwqmisaow = Comment::symcgieuakksimmu(); if ($comment = $wgkiaqycwqmisaow->iekyeyicoyyawomk()->akkkoiiymmamsauc($qcwmmkiuqycwkkec)) { if (!$wgkiaqycwqmisaow->icgawumskyemqymy($comment)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, you don’t have the required permissions to delete this comment.', PR__MDL__CONTENT_MANAGEMENT)); } else { if (!$wgkiaqycwqmisaow->swiomaeikukkggwy($comment)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, this comment not removable anymore.', PR__MDL__CONTENT_MANAGEMENT)); } else { $ewgmommeawggyaek = $this->uwkmaywceaaaigwo()->issssuygyewuaswa(); $ycoeoaakqyskgykq = $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(); if ($ycoeoaakqyskgykq === (int) $wgkiaqycwqmisaow->waecsyqmwascmqoa($comment, Constants::yauicucwkgqyygas) || $ewgmommeawggyaek->yciaosuiyeieceug($ycoeoaakqyskgykq, Constants::wiukckegkqeumqug)) { $sogksuscggsicmac = $wgkiaqycwqmisaow->gssiscqyqsacmeca()->sgcuwcowgwimgsgk($qcwmmkiuqycwkkec); if ($sogksuscggsicmac && !is_wp_error($sogksuscggsicmac)) { $occymigcemkqucuw = true; $keccaugmemegoimu = __('Comment deleted successfully.', PR__MDL__CONTENT_MANAGEMENT); } else { $keccaugmemegoimu = $sogksuscggsicmac; } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, you don’t have the required permissions to do this.', PR__MDL__CONTENT_MANAGEMENT)); } } } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Comment not found.', PR__MDL__CONTENT_MANAGEMENT)); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu, $occymigcemkqucuw); } public function omsuwyooskoyqssq() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $sogksuscggsicmac = $eiicaiwgqkgsekce->aoyemeikggcigigu(); if (!is_wp_error($sogksuscggsicmac)) { $ewgmommeawggyaek = $this->uwkmaywceaaaigwo()->issssuygyewuaswa(); $gcqseksiskwueksc = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kqigmeickowqiiyy); $ycoeoaakqyskgykq = $ewgmommeawggyaek->qyeguewwsmosqcwc(); if ($gcqseksiskwueksc && $ycoeoaakqyskgykq) { if ($ewgmommeawggyaek->yciaosuiyeieceug($ycoeoaakqyskgykq, Constants::gewmeskawiqikkoc) || $ewgmommeawggyaek->yciaosuiyeieceug($ycoeoaakqyskgykq, 'edit_post', $gcqseksiskwueksc)) { $sogksuscggsicmac = true; } else { $sogksuscggsicmac = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Sorry, you don’t have the required permissions to add an editorial comment on this post.', PR__MDL__CONTENT_MANAGEMENT)); } } else { $sogksuscggsicmac = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } } return $sogksuscggsicmac; } }
