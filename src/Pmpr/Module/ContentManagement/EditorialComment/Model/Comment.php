<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             68729e814a3e5             |
    |_______________________________________|
*/
 namespace Pmpr\Module\ContentManagement\EditorialComment\Model; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconInterface; use Pmpr\Common\Foundation\ORM\Model; class Comment extends Model { const koyqosqwgsaeqyue = 'quote_id'; const omwgmyakyegmasgm = 'reply_comment_id'; public function register() { $this->saemoowcasogykak(IconInterface::wyigokgygqasciwc)->guiaswksukmgageq(__('Comment', PR__MDL__CONTENT_MANAGEMENT))->muuwuqssqkaieqge(__('Comments', PR__MDL__CONTENT_MANAGEMENT)); } public function uwmqacgewuauagai() { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $this->cquokmemekqqywgi($eqwoegegiamegqsm->usqseiuaeauwuwus(Constants::yauicucwkgqyygas)->gswweykyogmsyawy(__('User', PR__MDL__CONTENT_MANAGEMENT)))->cquokmemekqqywgi($eqwoegegiamegqsm->usqseiuaeauwuwus(Constants::kqigmeickowqiiyy)->gswweykyogmsyawy(__('Post', PR__MDL__CONTENT_MANAGEMENT)))->cquokmemekqqywgi($eqwoegegiamegqsm->gysoeyaguiyewoes(Constants::TEXT)->gswweykyogmsyawy(__('Text', PR__MDL__CONTENT_MANAGEMENT)))->cquokmemekqqywgi($eqwoegegiamegqsm->qoemykoeuecmsmwe(self::omwgmyakyegmasgm)->gswweykyogmsyawy(__('Reply Comment', PR__MDL__CONTENT_MANAGEMENT))->acceqyqygswoecwe(12))->cquokmemekqqywgi($eqwoegegiamegqsm->eoaomaokwkwqyqiq(self::koyqosqwgsaeqyue)->gswweykyogmsyawy(__('Quote', PR__MDL__CONTENT_MANAGEMENT))->geimymogiqyssawi(Quote::class)->kkeymosoimmgsaug())->cquokmemekqqywgi($eqwoegegiamegqsm->qwwuoqeeiyuoyogs(Constants::CREATED_AT)->gswweykyogmsyawy(__('Created At', PR__MDL__CONTENT_MANAGEMENT)))->cquokmemekqqywgi($eqwoegegiamegqsm->qwwuoqeeiyuoyogs(Constants::UPDATED_AT)->gswweykyogmsyawy(__('Updated At', PR__MDL__CONTENT_MANAGEMENT))); parent::uwmqacgewuauagai(); } public function yqgiioyiwomwoaaw($gcqseksiskwueksc, int $suaemuyiacqyugsm = 1) : array { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $siykeiywomwwuoiw = $this->iekyeyicoyyawomk()->kqewyqqqiyiouaou([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::kqigmeickowqiiyy, $gcqseksiskwueksc), $eqwoegegiamegqsm->owogyemaccuymycq(Constants::CREATED_AT)->yogqsokgsqemsuoq()]); $sogksuscggsicmac = $this->iekyeyicoyyawomk()->aeggeuqycwawueqy($siykeiywomwwuoiw, [Constants::imywcsggckkcywgk => $suaemuyiacqyugsm, Constants::ausqeuugegoygouq => 10]); $oammesyieqmwuwyi = $sogksuscggsicmac[Constants::qwumqqyuasyskkkc] ?? []; foreach ($oammesyieqmwuwyi as $momcykaoccoymeig => $igqsaukqcqscimok) { $sogksuscggsicmac[Constants::qwumqqyuasyskkkc][$momcykaoccoymeig] = $this->ausygmeecgeqkise($igqsaukqcqscimok); } return $sogksuscggsicmac; } public function ausygmeecgeqkise($uyaimqisayeqocig) : array { $qsqwqsymmqeoqwcu = []; $qcwmmkiuqycwkkec = $this->mwyqswsaeeewsosm($uyaimqisayeqocig); if ($qcwmmkiuqycwkkec) { if (is_numeric($uyaimqisayeqocig)) { $comment = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($uyaimqisayeqocig); } else { $comment = $uyaimqisayeqocig; } if ($comment) { $qsqwqsymmqeoqwcu = (array) $comment; $oswgusmmccauqika = Quote::symcgieuakksimmu()->iekyeyicoyyawomk()->akkkoiiymmamsauc($qcwmmkiuqycwkkec, Constants::wwcyusosayomgoia); if ($oswgusmmccauqika) { $qsqwqsymmqeoqwcu['quote'] = (array) $oswgusmmccauqika; } $iyuauegiaqmowcyw = $this->waecsyqmwascmqoa($comment, self::omwgmyakyegmasgm, 0); if ($iyuauegiaqmowcyw > 0) { $miiuyomicgeegise = (array) $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($iyuauegiaqmowcyw); if ($miiuyomicgeegise) { $qsqwqsymmqeoqwcu['reply'] = $miiuyomicgeegise; $womuywacgiciecay = $this->waecsyqmwascmqoa($miiuyomicgeegise, Constants::yauicucwkgqyygas, 0); if ($womuywacgiciecay > 0) { $qsqwqsymmqeoqwcu['reply_label'] = sprintf(__('Replied to %s', PR__MDL__CONTENT_MANAGEMENT), $this->caokeucsksukesyo()->issssuygyewuaswa()->ygwimyogyaqgumam($womuywacgiciecay)); } } } $qsqwqsymmqeoqwcu[Constants::myikkigscysoykgy] = $this->qwsggayyoowwmmeu($comment); } } return $qsqwqsymmqeoqwcu; } public function icgawumskyemqymy($comment) : bool { if (is_numeric($comment)) { $comment = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($comment); } return $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc() === (int) $this->waecsyqmwascmqoa($comment, Constants::yauicucwkgqyygas); } public function swiomaeikukkggwy($uyaimqisayeqocig) : bool { $qcwmmkiuqycwkkec = $this->mwyqswsaeeewsosm($uyaimqisayeqocig); if (!$qcwmmkiuqycwkkec) { return false; } if (is_numeric($uyaimqisayeqocig)) { $comment = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($uyaimqisayeqocig); } else { $comment = $uyaimqisayeqocig; } if (!$comment) { return false; } $kwkmegesqkqwyska = $this->waecsyqmwascmqoa($comment, Constants::CREATED_AT); if ($this->caokeucsksukesyo()->sgqicqeoumwmsmyw()->wkksckeyeyeckqsm($kwkmegesqkqwyska, 3 * DAY_IN_SECONDS)) { return false; } $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); if ($this->iekyeyicoyyawomk()->exists([$eqwoegegiamegqsm->megqywqeuquawkim(self::omwgmyakyegmasgm, $qcwmmkiuqycwkkec)])) { return false; } return true; } public function qwsggayyoowwmmeu($comment) : array { $ccowyogiqwikkkie = [Constants::ywieoiaakcqsmmki => __('Reply', PR__MDL__CONTENT_MANAGEMENT), Constants::awysmmukegasimmq => __('Edit', PR__MDL__CONTENT_MANAGEMENT), Constants::DELETE => __('Delete', PR__MDL__CONTENT_MANAGEMENT)]; $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $qcwmmkiuqycwkkec = $this->mwyqswsaeeewsosm($comment); foreach ($ccowyogiqwikkkie as $gsccuaqaqcqasgoq => $meqocwsecsywiiqs) { $aiamqeawckcsuaou = ''; switch ($gsccuaqaqcqasgoq) { case Constants::ywieoiaakcqsmmki: $aiamqeawckcsuaou = $swqimwqeweekeusq->gmqyuaqwgiayskei($meqocwsecsywiiqs, ['class' => 'pr-comment-action reply editorial-comment-action', 'data-id' => $qcwmmkiuqycwkkec, 'data-type' => $gsccuaqaqcqasgoq]); break; case Constants::awysmmukegasimmq: if ($this->icgawumskyemqymy($comment)) { $aiamqeawckcsuaou = $swqimwqeweekeusq->gmqyuaqwgiayskei($meqocwsecsywiiqs, ['class' => 'pr-comment-action edit editorial-comment-action' . ($this->swiomaeikukkggwy($qcwmmkiuqycwkkec) ? '' : ' disabled'), 'data-id' => $qcwmmkiuqycwkkec, 'data-type' => $gsccuaqaqcqasgoq]); } break; case Constants::DELETE: if ($this->icgawumskyemqymy($comment)) { $haiesysowsyiikqq = $this->swiomaeikukkggwy($qcwmmkiuqycwkkec); $aiamqeawckcsuaou = $uuyucgkyusckoaeq->icqkogwskuwscskk([Constants::squoamkioomemiyi => Constants::wyaqwomqwwaoiwas, Constants::qioguuqkouiccqig => true, Constants::qescuiwgsyuikume => __('Delete Comment', PR__MDL__CONTENT_MANAGEMENT), Constants::PREFIX => "delete-editorial-comment-{$qcwmmkiuqycwkkec}", Constants::ssmskyqgcmeiayco => __('Are you sure you want to delete this comment? This action cannot be undone!', PR__MDL__CONTENT_MANAGEMENT), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, Constants::DELETE => $swqimwqeweekeusq->kwkmeiyiomikmcoc(__('Yes, delete it!', PR__MDL__CONTENT_MANAGEMENT), ['class' => 'pr-btn btn-danger editorial-comment-action' . ($haiesysowsyiikqq ? '' : ' disabled'), 'data-id' => $qcwmmkiuqycwkkec, 'data-type' => $gsccuaqaqcqasgoq])]], [Constants::ELEMENT => 'span', Constants::qescuiwgsyuikume => $meqocwsecsywiiqs, Constants::ysskgssgwuwmqwym => ['class' => 'pr-comment-action delete' . ($haiesysowsyiikqq ? '' : ' disabled')]]); } break; } if ($aiamqeawckcsuaou) { $ccowyogiqwikkkie[$gsccuaqaqcqasgoq] = $aiamqeawckcsuaou; } else { unset($ccowyogiqwikkkie[$gsccuaqaqcqasgoq]); } } return $ccowyogiqwikkkie; } public function sguweycayikqwcea($gcqseksiskwueksc) : bool { return $this->iekyeyicoyyawomk()->exists([$this->caokeucsksukesyo()->skckwsgymkimyuwo()->megqywqeuquawkim(Constants::kqigmeickowqiiyy, $gcqseksiskwueksc)]); } }
